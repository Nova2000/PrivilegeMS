
@{
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
    <title>首页</title>
    <script src="~/Scripts/vue.min.js"></script>
    @*<script src="~/Scripts/jquery-2.1.0.min.js"></script>*@
    <script src="~/Scripts/vue-resource.js"></script>
    @*<script src="~/Scripts/axios.min.js"></script>*@
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        #layout {
            width: 600px;
            margin: 100px auto 0;
            padding: 10px;
        }

            #layout .form-group {
                margin: 0 auto;
            }

        input {
            margin: 0 16px 0 8px;
            height: 22px;
            font-size: 15px;
        }

        button {
            width: 50px;
            height: 30px;
            background: rgb(33, 142, 245);
            border: none;
            font-size: 16px;
            color: #FFF;
            font-weight: 400;
            font-family: "Microsoft Yahei";
            border-radius: 4px;
            line-height: 30px;
            cursor: pointer;
        }

            button:hover {
                background: rgb(35, 115, 207);
            }

        table {
            width: 600px;
            margin: 20px 0;
            text-align: center;
            border-collapse: collapse;
            border: 1px solid #dfecff;
        }

            table th, table td {
                height: 30px;
            }

            table th {
                border: 1px solid #dfecff;
                background: #8386f3;
                color: #fff;
            }

            table td {
                border: 1px solid #dfecff;
            }

        .trs, .trs td {
            background: #dfecff;
            border: 1px solid #FFF;
        }
    </style>

</head>
<body>
    <div id="layout">
        <h2>用户信息</h2>
        <table>
            <tr>
                <th>序号</th>
                <th>姓名</th>
                <th>账号</th>
                <th>密码</th>
                <th>注册时间</th>
                <th>操作</th>
            </tr>
            <!-- :class="{'trs':i%2==0}" -->
            <tr v-for="(item,i) in jsondata" :key="i" :class="{'trs':i%2==0}">
                <td v-text="item.ID"></td>
                <td v-text="item.Name"></td>
                <td v-text="item.AccountNum">123456789</td>
                <td v-text="item.Pwd">123456789</td>
                <td>{{item.SubTime | timeFormat('en')}}</td>
                <td><a href="#">删除</a></td>
            </tr>
        </table>
    </div>

    
</body>
<script>
    var vm = new Vue({
        el: "#layout",
        data: {
            apiUrl: '/Home/UserList',
            jsondata: [],
            Student: [
                { name: "李瑞森", studentID: "164804131" }
            ]
        },
        methods: {
            getRequest: function () {
                this.$http.get(this.apiUrl).then(function (res) {
                    this.jsondata = res.body;
                })
            },
            timeFormat: function (time) {
                var times = new Date(time);
                return times;
            }
            
        },

         created() {
            this.getRequest();
        },
        filters: {
            timeFormat: function (dateStr, pattern) {
                var t = dateStr.slice(6, 19) 
                var date = new Date(parseInt(t));
                var year = date.getFullYear();
                var month = date.getMonth() + 1;
                var day = date.getDate();
                var result = '';
                if (pattern) {
                    switch (pattern.toLowerCase()) {
                        case 'cn':
                            result = year + '年' + month + '月' + day + '日';
                            break;
                        case 'en':
                            result = year + '-' + month + '-' + day;
                            break;
                        default:
                            result = year + '.' + month + '.' + day;
                            break;
                    }
                } else {
                    result = year + '.' + month + '.' + day;
                }
                return result;
            }
        }
    })
       
</script>
</html>

